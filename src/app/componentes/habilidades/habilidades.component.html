<div class="encabezado col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <h2 class="titulo col-xs-12 col-sm-11 col-md-11 col-lg-11">Habilidades</h2>
    <div class="iconitos col-xs-12 col-sm-1 col-md-1 col-lg-1">
        <i class="fa fa-plus iconito" *ngIf="ulogged != ''"
        (click)="abrirEditarHabilidad(habilidad)" ></i>
    </div>
</div>
<section class="habilidades tarjeta col-xs-12 col-sm-12 col-md-12 col-lg-12">
<ul>
<li class="habilidad" *ngFor="let habilidad of listaHabilidades">
<article class="flexin col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <div class="col-xs-12 col-sm-11 col-md-11 col-lg-12">
        <circle-progress
            [title]="habilidad.titulo"
            [percent]="habilidad.porcentaje"
            [radius]="100"
            [outerStrokeWidth]="16"
            [innerStrokeWidth]="8"
            [outerStrokeColor]="'#C80A64'"
            [innerStrokeColor]="'#111111'"
            [animation]="true"
            [animationDuration]="600">
        </circle-progress>
    </div>
    <div class="iconitos col-xs-12 col-sm-1 col-md-1 col-lg-1">
        <i class="fa fa-pen iconito" *ngIf="ulogged !=''"
        (click)="abrirEditarHabilidad(habilidad.id)"></i>
        <i class="fa fa-trash iconito" *ngIf="ulogged !=''"
        (click)="borrarHabilidad(habilidad.id)"></i>
    </div>
</article>
</li>
</ul>
</section>


<!-- MODAL DE HABILIDADES-->
<ng-template #habilidad let-modal>
    <div class="modal-header">
        <h4 class="modal-title">{{ accion | uppercase }} HABILIDAD</h4>
        <button class="btn close" aria-label="close" type="button" (click)="modal.dismiss()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="col-lg-12">
            <div class="card-body">
                <form [formGroup]="form" (ngSubmit)="guardarHabilidad()"><!-- EDITAR PERSONA -->

                    <!-- TÍTULO HABILIDAD -->
                    <div class="input-group input-group-lg mb-3 inputIcon">
                        <span class="input-group-text">
                            <i class="fa-solid fa-user"
                                [class.green-icon]="this.form.get('titulo_habilidad')?.valid"
                                [class.red-icon]="this.form.get('titulo_habilidad')?.invalid && this.form.get('titulo_habilidad')?.touched">
                            </i>
                        </span>
                        <input formControlName="titulo_habilidad" maxlength="50" type="text" class="form-control" placeholder="Título de tecnología">
                    </div>

                    <!-- PORCENTAJE -->
                    <div class="input-group input-group-lg mb-3 inputIcon">
                        <span class="input-group-text">
                            <i class="fa-solid fa-mobile-screen-button"
                                [class.green-icon]="this.form.get('porcentaje')?.valid"
                                [class.red-icon]="this.form.get('porcentaje')?.invalid && this.form.get('porcentaje')?.touched">    
                            </i>
                        </span>
                        <input formControlName="porcentaje" maxlength="50" type="number" class="form-control" placeholder="Porcentaje">
                    </div>

                    <!-- BOTON ENVIAR -->
                    <div class="d-grid gap-2">
                        <button [disabled]="this.form.invalid" type="submit" class="btn btn-success btn-lg">
                            <i class="fas fa-database"></i>&nbsp; Aceptar
                        </button>                            
                    </div>
                </form>
            </div>
        </div>
    </div>
</ng-template>
